---
import HtmlToPdfConverter from "../components/HtmlToPdfConverter.svelte";
---

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Convert To PDF</title>
	<!-- <script src="../../node_modules/jspdf/dist/jspdf.es.js"></script> -->
	
	<script>
		import { jsPDF } from "jspdf";
		// Make sure to install html2canvas if it's not included in your project
		// npm install html2canvas
		
		document.addEventListener("DOMContentLoaded", () => {
			const btn = document.getElementById("convertToPDF");
			
			btn.addEventListener("click", () => {
				const doc = new jsPDF();
				const text = "Hello World!";
				
				doc.text(text, 10, 10);
				doc.save('output.pdf');
			});
		});


	</script>

</head>

	<style>

		html, body, #container {
			widows: 100vw;
			height: 98vh;
			font-family: sans-serif;
		}

		#iframeWrap {
			widows: 90%;
			height: 80%;
			border: 2px solid #bbb;
			margin:4rem;
		}
		#iframe {
			widows: 100%;
			height: 100%;
		}

	</style>

<body>

	<div id="container">
		<div class="flex justify-center pt-10">
			<div class="flex flex-row gap-20">
				<div class="card bg-white text-gray-800 border-2 border-gray-600 p-8">
					<p class="text-2xl mb-4">JavaScript jsPDF Import Version</p>
					<button id="convertToPDF" class="btn text-xl hover:bg-blue-600 hover:border-blue-700 hover:text-white">Convert to PDF</button>
				</div>
				<div class="card bg-white text-gray-800 border-2 border-gray-600 p-8">
					<p class="text-2xl mb-4">html2pdf.js Svelte Component Version</p>
					<HtmlToPdfConverter selector="#iframe" client:only />
				</div>
		
			</div>
		</div>
		<div id="iframeWrap">
			<iframe id="iframe" src="https://edgewise.therefinery.com.au/builder-preview-wrapper/" frameborder="0" style="width:100%;height:100%"></iframe>
		</div>
	</div>
	
</body>
</html>
